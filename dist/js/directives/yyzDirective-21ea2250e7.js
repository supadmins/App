angular.module("yyzDirectiveMod",["oc.lazyLoad"]).directive("yyzBanner",["$http","$timeout","$ocLazyLoad",function(n,e,i){return{restrict:"E",scope:!0,template:'<div class="slide" id="slide"><ul><li ng-repeat="banner in banners"><a ng-href="{{banner.link}}"><img ng-src="{{banner.imgSrc}}" alt=""></a></li></ul><div class="dot"><span ng-repeat="banner in banners"></span></div></div>',replace:!0,link:function(t,a,r){var o=r.api;n.get(o).success(function(n){n.length>0&&(t.banners=n)}),e(function(){i.load("lib/swipeSlide/swipeSlide.min.js").then(function(){$("#slide").swipeSlide({continuousScroll:!0,speed:3e3,transitionType:"cubic-bezier(0.22, 0.69, 0.72, 0.88)",firstCallback:function(n,e,i){i.find(".dot").children().first().addClass("cur")},callback:function(n,e,i){i.find(".dot").children().eq(n).addClass("cur").siblings().removeClass("cur")}})})},300)}}}]).directive("yyzDropload",["$http","$ocLazyLoad",function(n,e){return{restrict:"E",template:"<div ng-transclude></div>",transclude:!0,replace:!0,link:function(n,i,t){e.load("lib/dropload/dist/dropload.min.js").then(function(){$("#"+t.id).dropload({scrollArea:window,loadDownFn:function(e){$.ajax({type:"GET",url:t.api,dataType:"json",success:function(i){n.scrollList=[].concat(n.scrollList,i),n.$apply(),e.resetload()},error:function(n,i){alert("请求数据失败!"),e.resetload()}})}})})}}}]).directive("yyzTimelimiter",["$interval",function(n){return{restrict:"E",scope:!0,template:'<div class="timeLimiter"><span ng-bind="hour"></span>:<span ng-bind="min"></span>:<span ng-bind="sec"></span></div>',resplace:!0,link:function(e,i,t){var a=new Date(t.endTime),r=function(){var i=new Date,t=a.getTime()-i.getTime();e.hour=Math.floor(t/1e3/3600),e.min=Math.floor(60*(t/1e3/3600-e.hour)),e.sec=Math.floor(t/1e3-3600*e.hour-60*e.min),1==e.hour.toString().length&&(e.hour="0"+e.hour),1==e.min.toString().length&&(e.min="0"+e.min),1==e.sec.toString().length&&(e.sec="0"+e.sec),0===e.sec&&(e.$emit("activityEnd"),o&&n.cancel(o))};r();var o=n(function(){r()},1e3)}}}]);